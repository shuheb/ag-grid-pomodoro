(this["webpackJsonpag-grid-pomodoro"]=this["webpackJsonpag-grid-pomodoro"]||[]).push([[0],{110:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(26),i=n.n(r),c=(n(110),n(78),n(14)),s=n(12),d=n(16),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.group(t.type),console.log("dispatching: ",t),console.groupEnd(t.type),t.type){case"started_timer":return{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(c.a)(Object(c.a)({},e),{},{timerStarted:!0})})),activeTaskId:t.id};case"stopped_timer":return Object(c.a)(Object(c.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(c.a)(Object(c.a)({},e),{},{timerStarted:!1,timeLeft:t.timeLeft})}))});case"added_task":return Object(c.a)(Object(c.a)({},e),{},{tasks:[].concat(Object(d.a)(e.tasks),[{id:t.id,task:t.task,taskNo:t.taskNo,taskCount:t.taskCount,timerStarted:!1,completed:!1,timeLeft:1500}])});case"deleted_task":return{tasks:e.tasks.filter((function(e){return e.id!==t.id})),activeTaskId:-1};case"completed_task":return Object(c.a)(Object(c.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(c.a)(Object(c.a)({},e),{},{completed:!0,timerStarted:!1,timeLeft:0})}))});case"resetted_active_task":return Object(c.a)(Object(c.a)({},e),{},{activeTaskId:-1});default:return e}},u=n(1),f=Object(o.createContext)(),j={tasks:[],activeTaskId:-1},b=function(e){var t=JSON.parse(localStorage.getItem("gridState"));return t||e},m=function(e){var t=e.children,n=Object(o.useReducer)(l,j,b),a=Object(s.a)(n,2),r=a[0],i=a[1],c=r.tasks,d=r.activeTaskId;return Object(u.jsx)(f.Provider,{value:{tasks:c,dispatch:i,activeTaskId:d},children:t})},O=n(188),p=n(190),h=n(184),g=Object(o.memo)((function(e){var t=e.timerStarted,n=e.pomodoroType,a=e.setPomodoroType,r=Object(o.useState)(!1),i=Object(s.a)(r,2),c=i[0],d=i[1];return Object(u.jsxs)("div",{style:{paddingBottom:15},children:[Object(u.jsxs)(O.a,{sx:{"& .MuiToggleButton-root":{color:"white !important"}},value:n,exclusive:!0,onChange:function(e,n){if(n)return t?(d(!0),void setTimeout((function(){d(!1)}),3e3)):void a(n)},children:[Object(u.jsx)(p.a,{value:"pomodoro",children:"Pomodoro"}),Object(u.jsx)(p.a,{value:"short_break",children:"Short Break"}),Object(u.jsx)(p.a,{value:"long_break",children:"Long Break"})]}),c&&Object(u.jsx)("div",{style:{paddingTop:15},children:Object(u.jsx)(h.a,{severity:"warning",children:"Please stop the timer before clicking an action."})})]})})),v=Object(o.memo)((function(e){var t=e.pomodoroType,n=e.theme,o=e.task,a="pomodoro"===t,r=a?"\ud83d\udccc":"\ud83d\udd7a";return Object(u.jsxs)("div",{className:"task-container",children:[Object(u.jsx)("span",{style:{fontSize:30,paddingRight:"5px"},children:r}),Object(u.jsx)("span",{style:{color:n.background,fontWeight:"bold",fontSize:24},children:a?Object(u.jsxs)(u.Fragment,{children:[o?"Working on":"Time to focus!",o&&Object(u.jsx)("div",{style:{fontWeight:"normal",fontSize:20},children:o})]}):"Time for a break!"})]})}));function x(e){var t=[e.getHours(),k(e.getMinutes(),2)].join(":");return t+=e.getHours()>=12?"pm":"am"}function k(e,t){return e.toString().padStart(t,"0")}function y(e){var t=k(e%60,2);return[k(Math.floor(e/60),2),t].join(":")}var S=function(e,t,n){var a=Object(o.useState)(t),r=Object(s.a)(a,2),i=r[0],c=r[1];return Object(o.useEffect)((function(){var t;return e&&(0===i?n():i>0&&(t=setInterval((function(){c(i-1)}),1e3))),function(){t&&clearInterval(t)}}),[e,i,n]),[i,c]},C=n(189),T=n(56),w=n.n(T),L=n(55),_=n.n(L),I=Object(o.memo)((function(e){var t=e.pomodoroType,n=e.buttonColor,a=e.timerStarted,r=e.setTimerStarted,i=e.id,c=e.timeLeft,s=e.seconds,d=Object(o.useContext)(f).dispatch,l=new Date,j="pomodoro"===t?c||1500:"short_break"===t?300:900;l.setMinutes(l.getMinutes()+Math.round(j/60));var b=x(l);return Object(u.jsxs)("div",{style:{display:"flex",paddingLeft:"15px"},children:[Object(u.jsx)(C.a,{disableElevation:!0,sx:{backgroundColor:"white",color:n,fontWeight:"bold","&:hover":{backgroundColor:"#00000014",color:"white"}},onClick:function(){-1!==i&&d(a?{type:"stopped_timer",id:i,timeLeft:s}:{type:"started_timer",id:i}),r(!a)},startIcon:a?Object(u.jsx)(_.a,{fontSize:"medium"}):Object(u.jsx)(w.a,{fontSize:"medium"}),variant:"contained",children:a?"STOP":"START"}),Object(u.jsx)("div",{style:{marginLeft:"auto"},children:Object(u.jsxs)("span",{style:{color:"white",fontSize:20},children:["end time",Object(u.jsx)("span",{style:{fontWeight:"bold",fontSize:30},children:" "+b})]})})]})})),z=Object(o.memo)((function(e){var t=e.pomodoroType,n=e.theme,a=e.timeLeft,r=e.id,i=e.timerStarted,c=Object(o.useState)(i),d=Object(s.a)(c,2),l=d[0],f=d[1],j=Object(o.useCallback)((function(){f(!1)}),[]),b=S(l,a,j),m=Object(s.a)(b,2),O=m[0],p=m[1];Object(o.useEffect)((function(){f(i)}),[i]),Object(o.useEffect)((function(){p(a)}),[r,a,p]);var h=y(O);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:90,padding:"30px 0px"},children:h}),Object(u.jsx)(I,{buttonColor:n.background,timerStarted:l,setTimerStarted:function(e){return f(e)},id:r,timeLeft:a,seconds:O,pomodoroType:t})]})})),M={id:-1,timeLeft:1500,timerStarted:!1},R=Object(o.memo)((function(e){var t=Object(o.useContext)(f),n=t.activeTaskId,a=t.tasks,r=t.dispatch,i=Object(o.useState)(M),d=Object(s.a)(i,2),l=d[0],j=d[1],b=Object(o.useState)("pomodoro"),m=Object(s.a)(b,2),O=m[0],p=m[1],h=l.timeLeft,x=l.id,k=l.task,y=l.taskNo,S=l.taskCount,C=l.timerStarted,T=l.completed,w=e.themes;return Object(o.useEffect)((function(){-1!==n&&j(a.filter((function(e){return e.id===n}))[0])}),[n,a]),Object(o.useEffect)((function(){T&&p("short_break")}),[T]),Object(o.useEffect)((function(){!x||-1===x||"long_break"!==O&&"short_break"!==O||(r({type:"resetted_active_task"}),j(M))}),[O,x,r]),Object(o.useEffect)((function(){-1===x&&("pomodoro"===O?j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:1500})})):"short_break"===O?j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:300})})):"long_break"===O&&j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:900})})))}),[O,x]),Object(o.useEffect)((function(){-1!==n&&p("pomodoro")}),[n]),Object(u.jsx)("div",{className:"main-task-background",style:{backgroundColor:w[O].background},children:Object(u.jsxs)("div",{className:"main-task-container",children:[Object(u.jsx)(g,{timerStarted:C,pomodoroType:O,setPomodoroType:function(e){return p(e)}}),Object(u.jsx)(v,{pomodoroType:O,id:x,theme:w[O],task:k?"".concat(k," (").concat(y,"/").concat(S,")"):void 0}),Object(u.jsx)(z,{timeLeft:h,id:x,timerStarted:C,pomodoroType:O,theme:w[O]})]})})})),N=n(91),W=n.n(N),E=Object(o.memo)((function(e){var t=Object(o.useContext)(f),n=t.tasks,a=t.activeTaskId,r=e.gridRef;return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:"20px"},children:Object(u.jsx)(C.a,{variant:"contained",size:"large",color:"primary",sx:{mt:3},startIcon:Object(u.jsx)(W.a,{}),onClick:function(){if(a){var e=n.filter((function(e){return e.id===a}));if(e.length>0&&e[0].timerStarted)return r.current.api.showLoadingOverlay(),void setTimeout((function(){r.current.api.hideOverlay()}),3e3)}localStorage.setItem("gridState",JSON.stringify({tasks:n,activeTaskId:a})),alert("Saved Grid State to Local Storage!")},children:"Save to Local Storage"})})})),F=n(92),P=n(192),D=n(93),B=n.n(D),G=n(94),A=n.n(G),J=Object(o.memo)((function(e){var t=Object(o.useContext)(f),n=t.dispatch,a=t.rowData,r=e.node.data,i=r.timerStarted,c=r.id,s=r.timeLeft,d=r.completed,l=function(){return!!a&&!!(a.filter((function(e){return e.timerStarted&&e.id!==c})).length>0)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.a,{sx:{color:"white"},size:"small",onClick:function(){n(i?{type:"stopped_timer",id:c,timeLeft:s}:{type:"started_timer",id:c})},disabled:!!d||l(),children:i?Object(u.jsx)(_.a,{fontSize:"large"}):Object(u.jsx)(w.a,{fontSize:"large"})}),Object(u.jsx)(P.a,{sx:{color:"white"},disabled:!!d||l(),onClick:function(){if(i)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);n({type:"completed_task",id:c})},size:"small",children:Object(u.jsx)(B.a,{fontSize:"large"})}),Object(u.jsx)(P.a,{sx:{color:"white"},disabled:l(),size:"small",onClick:function(){if(i)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);n({type:"deleted_task",id:c})},children:Object(u.jsx)(A.a,{fontSize:"large"})})]})})),H=n(193),q=n(194),V=n(195),K=Object(o.memo)((function(e){var t=Object(o.useContext)(f).dispatch,n=e.node.data,a=n.id,r=n.timerStarted,i=n.timeLeft,d=Object(o.useCallback)((function(){t({type:"completed_task",id:a})}),[a,t]),l=S(r,i,d),j=Object(s.a)(l,1)[0];Object(o.useEffect)((function(){r&&e.node.setData(Object(c.a)(Object(c.a)({},e.node.data),{},{timeLeft:j}))}),[j,e.node,r]);var b=y(j);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{fontSize:"25px",fontWeight:"bold"},children:b}),Object(u.jsx)(U,{timeLeft:j})]})}));function Q(e){return Object(u.jsxs)(H.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(u.jsx)(q.a,Object(c.a)({variant:"determinate"},e)),Object(u.jsx)(H.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(u.jsx)(V.a,{variant:"caption",component:"div",color:"white",children:"".concat(Math.round(e.value),"%")})})]})}var U=Object(o.memo)((function(e){var t=e.timeLeft,n=Math.floor((1500-t)/1500*100);return Object(u.jsx)(Q,{sx:{color:"white"},value:n})})),X=K,Y=n(95),Z=n.n(Y),$=n(182),ee=n(186),te=n(185),ne=Object(o.memo)((function(e){var t=Object(o.useContext)(f).dispatch,n=Object(o.useState)(1),a=Object(s.a)(n,2),r=a[0],i=a[1],c=Object(o.useState)(""),d=Object(s.a)(c,2),l=d[0],j=d[1],b=Object(o.useState)(!1),m=Object(s.a)(b,2),O=m[0],p=m[1];return Object(u.jsx)("div",{style:{display:"flex",height:"100%",justifyContent:"center"},children:Object(u.jsx)("div",{style:{height:"100%",backgroundColor:"#ffffff1a",display:"flex",alignItems:"center"},children:Object(u.jsxs)(H.a,{component:"form",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%","& .MuiTextField-root":{mx:3},"& .MuiButton-root":{mx:3}},children:[Object(u.jsx)($.a,{id:"outlined-basic",required:!0,autoComplete:"off",label:"I'm working on...",size:"small",variant:"outlined",value:l,error:O,onChange:function(e){return j(e.target.value)}}),Object(u.jsxs)($.a,{select:!0,label:"Est. Pomodoros",type:"number",sx:{minWidth:125},value:r,onChange:function(e){return i(e.target.value)},size:"small",variant:"outlined",children:[Object(u.jsx)(ee.a,{value:1,children:"One"}),Object(u.jsx)(ee.a,{value:2,children:"Two"}),Object(u.jsx)(ee.a,{value:3,children:"Three"}),Object(u.jsx)(ee.a,{value:4,children:"Four"})]}),Object(u.jsx)(C.a,{variant:"contained",size:"large",color:"primary",startIcon:Object(u.jsx)(Z.a,{}),onClick:function(e){if(l.length<1)p(!0);else{for(var n=0;n<r;n++)t({type:"added_task",id:Object(te.a)(),task:l,taskNo:n+1,taskCount:r});p(!1)}},children:"Add Task"})]})})})})),oe=(n(138),n(139),function(e){var t=e.themes,n=Object(o.useContext)(f).tasks,a=function(e){var t=e.value,n=e.data;return t&&n.timeLeft?x(t):t},r=Object(o.useMemo)((function(){return{timeColumn:{cellStyle:{justifyContent:"center"}},grayColumn:{cellStyle:{backgroundColor:"#ffffff1a",display:"flex",alignItems:"center",justifyContent:"space-around"}},textColumn:{cellStyle:{fontWeight:"bold",fontSize:"20px",display:"flex",alignItems:"center"}}}}),[]),i=[{field:"action",maxWidth:200,type:"grayColumn",cellRenderer:J,pinned:"left"},{field:"task",minWidth:1e3,type:"textColumn",valueFormatter:function(e){var t=e.data,n=e.value;return t.taskNo?"".concat(n," (").concat(t.taskNo,"/").concat(t.taskCount,")"):n}},{headerName:"Progress",field:"timer",type:"grayColumn",minWidth:200,valueGetter:function(e){return e.data.timeLeft},sort:"asc",cellRenderer:X},{headerName:"Start Time",field:"start_time",type:["timeColumn","textColumn"],valueGetter:function(e){if(e.data.timerStarted)return new Date},valueFormatter:a},{headerName:"End Time",field:"end_time",type:["timeColumn","textColumn"],valueGetter:function(e){var t=e.getValue("start_time");if(t){var n=t,o=new Date(n);return o.setMinutes(n.getMinutes()+Math.round(e.data.timeLeft/60)),o}},valueFormatter:a}],s=Object(o.useMemo)((function(){return{flex:1,suppressMovable:!0,minWidth:100}}),[]),d=Object(o.useMemo)((function(){return[{}]}),[]),l=Object(o.useCallback)((function(e){var n=e.data.completed;if(!e.node.isRowPinned()){if(n){var o=t.completed;return{backgroundColor:o.background,color:o.foreground}}var a=t.pomodoro;return{backgroundColor:a.background,color:a.foreground}}}),[t]),j=Object(o.useCallback)((function(e){for(var t=0,n=0;n<e.length;n++){e[n].data.completed&&(e.splice(t,0,e.splice(n,1)[0]),t++)}}),[]),b=Object(o.useCallback)((function(e){return"bottom"===e.rowPinned}),[]),m=Object(o.useCallback)((function(e){return e.data.id}),[]),O=Object(o.useCallback)((function(e){return"bottom"===e.node.rowPinned?82:60}),[]);return Object(u.jsx)("div",{style:{height:"50%",width:"100%"},children:Object(u.jsx)(F.AgGridReact,{className:"ag-theme-alpine",style:{height:"100%",width:"100%"},ref:e.gridRef,columnDefs:i,rowData:n.map((function(e){return Object(c.a)({},e)})),pinnedBottomRowData:d,columnTypes:r,defaultColDef:s,getRowId:m,getRowHeight:O,getRowStyle:l,postSort:j,isFullWidthCell:b,fullWidthCellRenderer:ne,animateRows:!0,overlayNoRowsTemplate:'<span class="ag-overlay-no-rows-center">No Tasks To Show. Add Tasks using the Toolbar below.</span>',overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please stop the timer before clicking an action.</span>'})})}),ae=function(){var e=Object(o.useRef)(null),t=Object(o.useMemo)((function(){return{pomodoro:{foreground:"#ffffff",background:"#d95550"},short_break:{foreground:"#ffffff",background:"#1565c0"},long_break:{foreground:"#ffffff",background:"#ab47bc"},completed:{foreground:"#ffffff",background:"#4caf50"}}}),[]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(m,{children:[Object(u.jsx)(R,{themes:t}),Object(u.jsx)(oe,{gridRef:e,themes:t}),Object(u.jsx)(E,{gridRef:e})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(ae,{})}),document.getElementById("root")),re()},78:function(e,t,n){}},[[140,1,2]]]);
//# sourceMappingURL=main.5878057a.chunk.js.map