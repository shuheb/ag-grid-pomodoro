(this["webpackJsonpag-grid-pomodoro"]=this["webpackJsonpag-grid-pomodoro"]||[]).push([[0],{110:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(26),i=a.n(r),c=(a(110),a(78),a(14)),s=a(12),d="START_TIMER",l="STOP_TIMER",u="ADD_TASK",f="PERSIST_SECONDS",j="RESET_ACTIVE_TASK",m="MARK_AS_COMPLETE",b="DELETE_POMODORO",O=a(185),p=a(16),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{tasks:e.tasks.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{timerStarted:!0})})),activeTaskId:t.payload.id};case l:return Object(c.a)(Object(c.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{timerStarted:!1})}))});case u:return Object(c.a)(Object(c.a)({},e),{},{tasks:[].concat(Object(p.a)(e.tasks),[{id:t.payload.id,task:t.payload.task,taskNo:t.payload.taskNo,taskCount:t.payload.taskCount,timerStarted:!1,completed:!1,timeLeft:1500}])});case b:return{tasks:e.tasks.filter((function(e){return e.id!==t.payload.id})),activeTaskId:-1};case m:return Object(c.a)(Object(c.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{completed:!0,timeLeft:0})}))});case f:return Object(c.a)(Object(c.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{timeLeft:t.payload.timeLeft})}))});case j:return Object(c.a)(Object(c.a)({},e),{},{activeTaskId:-1});default:return e}},v=a(1),g=Object(n.createContext)(),k={tasks:[],activeTaskId:-1},x=function(e){var t=JSON.parse(localStorage.getItem("gridState"));return t||e},y=function(e){var t=e.children,a=Object(n.useReducer)(h,k,x),o=Object(s.a)(a,2),r=o[0],i=o[1],c={tasks:r.tasks,activeTaskId:r.activeTaskId,startTimer:Object(n.useCallback)((function(e){var t=e.id;i({type:d,payload:{id:t}})}),[i]),stopTimer:Object(n.useCallback)((function(e){var t=e.id;i({type:l,payload:{id:t}})}),[i]),addTask:Object(n.useCallback)((function(e){var t=e.task,a=e.taskNo,n=e.taskCount;i({type:u,payload:{id:Object(O.a)(),task:t,taskNo:a,taskCount:n}})}),[i]),persistSeconds:Object(n.useCallback)((function(e){var t=e.id,a=e.timeLeft;i({type:f,payload:{id:t,timeLeft:a}})}),[i]),markAsComplete:Object(n.useCallback)((function(e){var t=e.id;i({type:m,payload:{id:t}})}),[i]),deletePomodoro:Object(n.useCallback)((function(e){var t=e.id;i({type:b,payload:{id:t}})}),[i]),resetActiveTask:Object(n.useCallback)((function(){i({type:j})}),[i])};return Object(v.jsx)(g.Provider,{value:c,children:t})},T=a(188),S=a(190),C=a(184),w=Object(n.memo)((function(e){var t=e.timerStarted,a=e.pomodoroType,o=e.setPomodoroType,r=Object(n.useState)(!1),i=Object(s.a)(r,2),c=i[0],d=i[1];return Object(v.jsxs)("div",{style:{paddingBottom:15},children:[Object(v.jsxs)(T.a,{sx:{"& .MuiToggleButton-root":{color:"white !important"}},value:a,exclusive:!0,onChange:function(e,a){if(a)return t?(d(!0),void setTimeout((function(){d(!1)}),3e3)):void o(a)},children:[Object(v.jsx)(S.a,{value:"pomodoro",children:"Pomodoro"}),Object(v.jsx)(S.a,{value:"short_break",children:"Short Break"}),Object(v.jsx)(S.a,{value:"long_break",children:"Long Break"})]}),c&&Object(v.jsx)("div",{style:{paddingTop:15},children:Object(v.jsx)(C.a,{severity:"warning",children:"Please stop the timer before clicking an action."})})]})})),L=Object(n.memo)((function(e){var t=e.pomodoroType,a=e.theme,n=e.task,o="pomodoro"===t,r=o?"\ud83d\udccc":"\ud83d\udd7a";return Object(v.jsxs)("div",{className:"task-container",children:[Object(v.jsx)("span",{style:{fontSize:30,paddingRight:"5px"},children:r}),Object(v.jsx)("span",{style:{color:a.background,fontWeight:"bold",fontSize:24},children:o?Object(v.jsxs)(v.Fragment,{children:[n?"Working on":"Time to focus!",n&&Object(v.jsx)("div",{style:{fontWeight:"normal",fontSize:20},children:n})]}):"Time for a break!"})]})}));function I(e){var t=[e.getHours(),R(e.getMinutes(),2)].join(":");return t+=e.getHours()>=12?"pm":"am"}function R(e,t){return e.toString().padStart(t,"0")}function E(e){var t=R(e%60,2);return[R(Math.floor(e/60),2),t].join(":")}var M=function(e,t,a){var o=Object(n.useState)(t),r=Object(s.a)(o,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){var t;return 0===i?a():e&&(t=setInterval((function(){c(i-1)}),1e3)),function(){t&&clearInterval(t)}}),[e,i,a]),[i,c]},_=a(189),z=a(56),N=a.n(z),P=a(55),A=a.n(P),F=Object(n.memo)((function(e){var t=e.pomodoroType,a=e.buttonColor,n=e.timerStarted,o=e.setTimerStarted,r=e.stopTimer,i=e.startTimer,c=e.id,s=e.timeLeft,d=new Date,l="pomodoro"===t?s||1500:"short_break"===t?300:900;d.setMinutes(d.getMinutes()+Math.round(l/60));var u=I(d);return Object(v.jsxs)("div",{style:{display:"flex",paddingLeft:"15px"},children:[Object(v.jsx)(_.a,{disableElevation:!0,sx:{backgroundColor:"white",color:a,fontWeight:"bold","&:hover":{backgroundColor:"#00000014",color:"white"}},onClick:function(){c&&(n?r({id:c}):i({id:c})),o(!n)},startIcon:n?Object(v.jsx)(A.a,{fontSize:"medium"}):Object(v.jsx)(N.a,{fontSize:"medium"}),variant:"contained",children:n?"STOP":"START"}),Object(v.jsx)("div",{style:{marginLeft:"auto"},children:Object(v.jsxs)("span",{style:{color:"white",fontSize:20},children:["end time",Object(v.jsx)("span",{style:{fontWeight:"bold",fontSize:30},children:" "+u})]})})]})})),W=Object(n.memo)((function(e){var t=e.pomodoroType,a=e.stopTimer,o=e.startTimer,r=e.theme,i=e.timeLeft,c=e.id,d=e.timerStarted,l=Object(n.useState)(d),u=Object(s.a)(l,2),f=u[0],j=u[1],m=Object(n.useCallback)((function(){j(!1)}),[]),b=M(f,i,m),O=Object(s.a)(b,2),p=O[0],h=O[1];Object(n.useEffect)((function(){j(d)}),[d]),Object(n.useEffect)((function(){h(i)}),[c,i,h]);var g=E(p);return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:90,padding:"30px 0px"},children:g}),Object(v.jsx)(F,{buttonColor:r.background,timerStarted:f,setTimerStarted:function(e){return j(e)},stopTimer:a,id:c,timeLeft:i,startTimer:o,pomodoroType:t})]})})),D={id:-1,timeLeft:1500,timerStarted:!1},B=Object(n.memo)((function(e){var t=Object(n.useContext)(g),a=t.activeTaskId,o=t.tasks,r=t.resetActiveTask,i=t.stopTimer,d=t.startTimer,l=Object(n.useState)(D),u=Object(s.a)(l,2),f=u[0],j=u[1],m=Object(n.useState)("pomodoro"),b=Object(s.a)(m,2),O=b[0],p=b[1],h=f.timeLeft,k=f.id,x=f.task,y=f.taskNo,T=f.taskCount,S=f.timerStarted,C=f.completed,I=e.themes;return Object(n.useEffect)((function(){-1!==a&&j(o.filter((function(e){return e.id===a}))[0])}),[a,o]),Object(n.useEffect)((function(){C&&p("short_break")}),[C]),Object(n.useEffect)((function(){!k||-1===k||"long_break"!==O&&"short_break"!==O||(r(),j(D))}),[O,k,r]),Object(n.useEffect)((function(){-1===k&&("pomodoro"===O?j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:1500})})):"short_break"===O?j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:300})})):"long_break"===O&&j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:900})})))}),[O,k]),Object(n.useEffect)((function(){-1!==a&&p("pomodoro")}),[a]),Object(v.jsx)("div",{className:"main-task-background",style:{backgroundColor:I[O].background},children:Object(v.jsxs)("div",{className:"main-task-container",children:[Object(v.jsx)(w,{timerStarted:S,pomodoroType:O,setPomodoroType:function(e){return p(e)}}),Object(v.jsx)(L,{pomodoroType:O,id:k,theme:I[O],task:x?"".concat(x," (").concat(y,"/").concat(T,")"):void 0}),Object(v.jsx)(W,{timeLeft:h,id:k,timerStarted:S,pomodoroType:O,stopTimer:i,startTimer:d,theme:I[O]})]})})})),G=a(91),J=a.n(G),H=Object(n.memo)((function(e){var t=Object(n.useContext)(g),a=t.tasks,o=t.activeTaskId,r=e.gridRef;return Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:"20px"},children:Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",sx:{mt:3},startIcon:Object(v.jsx)(J.a,{}),onClick:function(){if(o){var e=a.filter((function(e){return e.id===o}));if(e.length>0&&e[0].timerStarted)return r.current.api.showLoadingOverlay(),void setTimeout((function(){r.current.api.hideOverlay()}),3e3)}localStorage.setItem("gridState",JSON.stringify({tasks:a,activeTaskId:o}))},children:"Save to Local Storage"})})})),K=a(92),V=a(192),q=a(93),Q=a.n(q),U=a(94),X=a.n(U),Y=Object(n.memo)((function(e){var t=Object(n.useContext)(g),a=t.startTimer,o=t.stopTimer,r=t.rowData,i=t.deletePomodoro,c=t.markAsComplete,s=e.node.data,d=s.timerStarted,l=s.id,u=s.timeLeft,f=s.completed,j=function(){return!!r&&!!(r.filter((function(e){return e.timerStarted&&e.id!==l})).length>0)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(V.a,{sx:{color:"white"},size:"small",onClick:function(){d?o({id:l,timeLeft:u}):a({id:l})},disabled:!!f||j(),children:d?Object(v.jsx)(A.a,{fontSize:"large"}):Object(v.jsx)(N.a,{fontSize:"large"})}),Object(v.jsx)(V.a,{sx:{color:"white"},disabled:!!f||j(),onClick:function(){if(d)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);c({id:l})},size:"small",children:Object(v.jsx)(Q.a,{fontSize:"large"})}),Object(v.jsx)(V.a,{sx:{color:"white"},disabled:j(),size:"small",onClick:function(){if(d)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);i({id:l})},children:Object(v.jsx)(X.a,{fontSize:"large"})})]})})),Z=a(193),$=a(194),ee=a(195),te=Object(n.memo)((function(e){var t=Object(n.useContext)(g),a=t.stopTimer,o=t.persistSeconds,r=t.markAsComplete,i=e.node.data,c=i.id,d=i.timerStarted,l=i.timeLeft,u=Object(n.useCallback)((function(){a({id:c}),r({id:c})}),[c,r,a]),f=M(d,l,u),j=Object(s.a)(f,1)[0];Object(n.useEffect)((function(){d||o({id:c,timeLeft:j})}),[d,o,j,c]);var m=E(j);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{fontSize:"25px",fontWeight:"bold"},children:m}),Object(v.jsx)(ne,{timeLeft:j})]})}));function ae(e){return Object(v.jsxs)(Z.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(v.jsx)($.a,Object(c.a)({variant:"determinate"},e)),Object(v.jsx)(Z.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(ee.a,{variant:"caption",component:"div",color:"white",children:"".concat(Math.round(e.value),"%")})})]})}var ne=Object(n.memo)((function(e){var t=e.timeLeft,a=Math.floor((1500-t)/1500*100);return Object(v.jsx)(ae,{sx:{color:"white"},value:a})})),oe=te,re=a(95),ie=a.n(re),ce=a(182),se=a(186),de=Object(n.memo)((function(e){var t=Object(n.useContext)(g).addTask,a=Object(n.useState)(1),o=Object(s.a)(a,2),r=o[0],i=o[1],c=Object(n.useState)(""),d=Object(s.a)(c,2),l=d[0],u=d[1],f=Object(n.useState)(!1),j=Object(s.a)(f,2),m=j[0],b=j[1];return Object(v.jsx)("div",{style:{display:"flex",height:"100%",justifyContent:"center"},children:Object(v.jsx)("div",{style:{height:"100%",backgroundColor:"#ffffff1a",display:"flex",alignItems:"center"},children:Object(v.jsxs)(Z.a,{component:"form",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%","& .MuiTextField-root":{mx:3},"& .MuiButton-root":{mx:3}},children:[Object(v.jsx)(ce.a,{id:"outlined-basic",required:!0,name:"noAutoFill",label:"I'm working on...",size:"small",variant:"outlined",value:l,error:m,onChange:function(e){return u(e.target.value)}}),Object(v.jsxs)(ce.a,{select:!0,label:"Est. Pomodoros",type:"number",sx:{minWidth:125},value:r,onChange:function(e){return i(e.target.value)},size:"small",variant:"outlined",children:[Object(v.jsx)(se.a,{value:1,children:"One"}),Object(v.jsx)(se.a,{value:2,children:"Two"}),Object(v.jsx)(se.a,{value:3,children:"Three"}),Object(v.jsx)(se.a,{value:4,children:"Four"})]}),Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",startIcon:Object(v.jsx)(ie.a,{}),onClick:function(e){if(l.length<1)b(!0);else{for(var a=0;a<r;a++)t({task:l,taskNo:a+1,taskCount:r});b(!1)}},children:"Add Task"})]})})})}));a(138),a(139);var le=function(e){var t=e.themes,a=Object(n.useContext)(g).tasks,o=function(e){var t=e.value,a=e.data;return t&&a.timeLeft?I(t):t},r=Object(n.useMemo)((function(){return{timeColumn:{cellStyle:{justifyContent:"center"}},grayColumn:{cellStyle:{backgroundColor:"#ffffff1a",display:"flex",alignItems:"center",justifyContent:"space-around"}},textColumn:{cellStyle:{fontWeight:"bold",fontSize:"20px",display:"flex",alignItems:"center"}}}}),[]),i=[{field:"action",maxWidth:200,type:"grayColumn",cellRendererSelector:function(e){return e.data.task?{component:Y}:void 0},pinned:"left"},{field:"task",minWidth:1e3,type:"textColumn",valueFormatter:function(e){var t=e.data,a=e.value;return t.taskNo?"".concat(a," (").concat(t.taskNo,"/").concat(t.taskCount,")"):a}},{headerName:"Progress",field:"timer",type:"grayColumn",minWidth:200,valueGetter:function(e){return e.data.timeLeft},sort:"asc",cellRendererSelector:function(e){return e.data.task?{component:oe,params:{}}:void 0}},{headerName:"Start Time",field:"start_time",type:["timeColumn","textColumn"],valueGetter:function(e){if(e.data.timerStarted)return new Date},valueFormatter:o},{headerName:"End Time",field:"end_time",type:["timeColumn","textColumn"],valueGetter:function(e){var t=e.getValue("start_time");if(t){var a=t,n=new Date(a);return n.setMinutes(a.getMinutes()+Math.round(e.data.timeLeft/60)),n}},valueFormatter:o}],s=Object(n.useMemo)((function(){return{flex:1,suppressMovable:!0,minWidth:100}}),[]),d=Object(n.useCallback)((function(e){var a=e.data.completed;if(!e.node.isRowPinned()){if(a){var n=t.completed;return{backgroundColor:n.background,color:n.foreground}}var o=t.pomodoro;return{backgroundColor:o.background,color:o.foreground}}}),[t]),l=Object(n.useCallback)((function(e){for(var t=0,a=0;a<e.length;a++){e[a].data.completed&&(e.splice(t,0,e.splice(a,1)[0]),t++)}}),[]);return Object(v.jsx)("div",{style:{height:"50%",width:"100%"},children:Object(v.jsx)("div",{className:"ag-theme-alpine",style:{height:"100%",width:"100%"},children:Object(v.jsx)(K.AgGridReact,{ref:e.gridRef,rowData:a.map((function(e){return Object(c.a)({},e)})),columnTypes:r,columnDefs:i,defaultColDef:s,getRowId:function(e){return e.data.id},fullWidthCellRenderer:de,isFullWidthCell:function(e){return"bottom"===e.rowPinned},getRowStyle:d,animateRows:!0,overlayNoRowsTemplate:'<span class="ag-overlay-no-rows-center">No Tasks To Show. Add Tasks using the Toolbar below.</span>',overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please stop the timer before clicking an action.</span>',postSort:l,getRowHeight:function(e){return"bottom"===e.node.rowPinned?82:60},pinnedBottomRowData:[{}]})})})},ue=function(){var e=Object(n.useRef)(null),t=Object(n.useMemo)((function(){return{pomodoro:{foreground:"#ffffff",background:"#d95550"},short_break:{foreground:"#ffffff",background:"#1565c0"},long_break:{foreground:"#ffffff",background:"#ab47bc"},completed:{foreground:"#ffffff",background:"#4caf50"}}}),[]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(y,{children:[Object(v.jsx)(B,{themes:t}),Object(v.jsx)(le,{gridRef:e,themes:t}),Object(v.jsx)(H,{gridRef:e})]})})},fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,196)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),o(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(ue,{})}),document.getElementById("root")),fe()},78:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.b8bd34bc.chunk.js.map