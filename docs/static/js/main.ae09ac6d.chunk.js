(this["webpackJsonpag-grid-pomodoro"]=this["webpackJsonpag-grid-pomodoro"]||[]).push([[0],{110:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(26),i=a.n(r),c=(a(110),a(78),a(12)),s="START_TIMER",d="STOP_TIMER",l="ADD_TASK",u="PERSIST_SECONDS",f="RESET_ACTIVE_TASK",j="MARK_AS_COMPLETE",m="DELETE_POMODORO",b=a(185),O=a(16),p=a(15),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(p.a)(Object(p.a)({},e),{},{activeTaskId:t.payload.id,rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(p.a)(Object(p.a)({},e),{},{timerStarted:!0})}))});case d:return Object(p.a)(Object(p.a)({},e),{},{rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(p.a)(Object(p.a)({},e),{},{timerStarted:!1})}))});case l:return Object(p.a)(Object(p.a)({},e),{},{rowData:[].concat(Object(O.a)(e.rowData),[{id:t.payload.id,task:t.payload.task,taskNo:t.payload.taskNo,taskCount:t.payload.taskCount,timerStarted:!1,completed:!1,timeLeft:1500}])});case m:return Object(p.a)(Object(p.a)({},e),{},{activeTaskId:-1,rowData:e.rowData.filter((function(e){return e.id!==t.payload.id}))});case j:return Object(p.a)(Object(p.a)({},e),{},{rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(p.a)(Object(p.a)({},e),{},{completed:!0,timeLeft:0})}))});case u:return Object(p.a)(Object(p.a)({},e),{},{rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(p.a)(Object(p.a)({},e),{},{timeLeft:t.payload.timeLeft})}))});case f:return Object(p.a)(Object(p.a)({},e),{},{activeTaskId:-1});default:return e}},v=a(1),g=Object(o.createContext)(),x={rowData:[],activeTaskId:-1},k=function(e){var t=JSON.parse(localStorage.getItem("gridState"));return t||e},y=function(e){var t=e.children,a=Object(o.useReducer)(h,x,k),n=Object(c.a)(a,2),r=n[0],i=n[1],O={rowData:r.rowData,activeTaskId:r.activeTaskId,startTimer:Object(o.useCallback)((function(e){var t=e.id;i({type:s,payload:{id:t}})}),[i]),stopTimer:Object(o.useCallback)((function(e){var t=e.id;i({type:d,payload:{id:t}})}),[i]),addTask:Object(o.useCallback)((function(e){var t=e.task,a=e.taskNo,o=e.taskCount;i({type:l,payload:{id:Object(b.a)(),task:t,taskNo:a,taskCount:o}})}),[i]),persistSeconds:Object(o.useCallback)((function(e){var t=e.id,a=e.timeLeft;i({type:u,payload:{id:t,timeLeft:a}})}),[i]),markAsComplete:Object(o.useCallback)((function(e){var t=e.id;i({type:j,payload:{id:t}})}),[i]),deletePomodoro:Object(o.useCallback)((function(e){var t=e.id;i({type:m,payload:{id:t}})}),[i]),resetActiveTask:Object(o.useCallback)((function(){i({type:f})}),[i])};return Object(v.jsx)(g.Provider,{value:O,children:t})},S=a(188),T=a(190),C=a(184),w=Object(o.memo)((function(e){var t=e.timerStarted,a=e.pomodoroType,n=e.setPomodoroType,r=Object(o.useState)(!1),i=Object(c.a)(r,2),s=i[0],d=i[1];return Object(v.jsxs)("div",{style:{paddingBottom:15},children:[Object(v.jsxs)(S.a,{sx:{"& .MuiToggleButton-root":{color:"white !important"}},value:a,exclusive:!0,onChange:function(e,a){if(a)return t?(d(!0),void setTimeout((function(){d(!1)}),3e3)):void n(a)},children:[Object(v.jsx)(T.a,{value:"pomodoro",children:"Pomodoro"}),Object(v.jsx)(T.a,{value:"short_break",children:"Short Break"}),Object(v.jsx)(T.a,{value:"long_break",children:"Long Break"})]}),s&&Object(v.jsx)("div",{style:{paddingTop:15},children:Object(v.jsx)(C.a,{severity:"warning",children:"Please stop the timer before clicking an action."})})]})})),D=Object(o.memo)((function(e){var t=e.pomodoroType,a=e.theme,o=e.task,n="pomodoro"===t,r=n?"\ud83d\udccc":"\ud83d\udd7a";return Object(v.jsxs)("div",{className:"task-container",children:[Object(v.jsx)("span",{style:{fontSize:30,paddingRight:"5px"},children:r}),Object(v.jsx)("span",{style:{color:a.background,fontWeight:"bold",fontSize:24},children:n?Object(v.jsxs)(v.Fragment,{children:[o?"Working on":"Time to focus!",o&&Object(v.jsx)("div",{style:{fontWeight:"normal",fontSize:20},children:o})]}):"Time for a break!"})]})}));function I(e){var t=[e.getHours(),L(e.getMinutes(),2)].join(":");return t+=e.getHours()>=12?"pm":"am"}function L(e,t){return e.toString().padStart(t,"0")}function E(e){var t=L(e%60,2);return[L(Math.floor(e/60),2),t].join(":")}var _=a(189),M=a(56),R=a.n(M),z=a(55),P=a.n(z),N=Object(o.memo)((function(e){var t=e.pomodoroType,a=e.buttonColor,o=e.timerStarted,n=e.setTimerStarted,r=e.stopTimer,i=e.startTimer,c=e.id,s=e.timeLeft,d=new Date,l="pomodoro"===t?s||1500:"short_break"===t?300:900;d.setMinutes(d.getMinutes()+Math.round(l/60));var u=I(d);return Object(v.jsxs)("div",{style:{display:"flex",paddingLeft:"15px"},children:[Object(v.jsx)(_.a,{disableElevation:!0,sx:{backgroundColor:"white",color:a,fontWeight:"bold","&:hover":{backgroundColor:"#00000014",color:"white"}},onClick:function(){c&&(o?r({id:c}):i({id:c})),n(!o)},startIcon:o?Object(v.jsx)(P.a,{fontSize:"medium"}):Object(v.jsx)(R.a,{fontSize:"medium"}),variant:"contained",children:o?"STOP":"START"}),Object(v.jsx)("div",{style:{marginLeft:"auto"},children:Object(v.jsxs)("span",{style:{color:"white",fontSize:20},children:["end time",Object(v.jsx)("span",{style:{fontWeight:"bold",fontSize:30},children:" "+u})]})})]})})),A=Object(o.memo)((function(e){var t=e.pomodoroType,a=e.stopTimer,n=e.startTimer,r=e.theme,i=e.value||"",s=i.timeLeft,d=i.id,l=i.timerStarted,u=i.completed,f=Object(o.useState)(1500),j=Object(c.a)(f,2),m=j[0],b=j[1],O=Object(o.useState)(!1),p=Object(c.a)(O,2),h=p[0],g=p[1];Object(o.useEffect)((function(){void 0!==l&&g(l)}),[l]),Object(o.useEffect)((function(){void 0!==s&&b(s)}),[s]),Object(o.useEffect)((function(){s&&!u||(b("short_break"===t?300:"long_break"===t?900:1500),g(!1));s&&b("short_break"===t?300:"long_break"===t?900:s)}),[t,u]),Object(o.useEffect)((function(){var e;return h&&m>0&&(e=setInterval((function(){b((function(e){return e-1}))}),1e3)),function(){e&&clearInterval(e)}}),[h]),Object(o.useEffect)((function(){0===m&&g(!1)}),[m]);var x=E(m);return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:90,padding:"30px 0px"},children:x}),Object(v.jsx)(N,{buttonColor:r.background,timerStarted:h,setTimerStarted:function(e){return g(e)},stopTimer:a,id:d,timeLeft:s,startTimer:n,pomodoroType:t})]})})),W=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.activeTaskId,n=t.rowData,r=t.resetActiveTask,i=t.stopTimer,s=t.startTimer,d=Object(o.useState)(null),l=Object(c.a)(d,2),u=l[0],f=l[1],j=Object(o.useState)("pomodoro"),m=Object(c.a)(j,2),b=m[0],O=m[1],p=u||{},h=p.timeLeft,x=p.id,k=p.task,y=p.taskNo,S=p.taskCount,T=p.timerStarted,C=p.completed,I=e.themes;Object(o.useEffect)((function(){f(-1!==a?n.filter((function(e){return e.id===a}))[0]:{})}),[a,n]),Object(o.useEffect)((function(){C&&O("short_break")}),[C,r]),Object(o.useEffect)((function(){!x||"long_break"!==b&&"short_break"!==b||r()}),[b,x,r]),Object(o.useEffect)((function(){-1!==a&&O("pomodoro")}),[a]);var L={timeLeft:h,id:x,task:k,timerStarted:T,completed:C};return Object(v.jsx)("div",{className:"main-task-background",style:{backgroundColor:I[b].background},children:Object(v.jsxs)("div",{className:"main-task-container",children:[Object(v.jsx)(w,{timerStarted:T,pomodoroType:b,setPomodoroType:function(e){return O(e)}}),Object(v.jsx)(D,{pomodoroType:b,id:x,theme:I[b],task:k?"".concat(k," (").concat(y,"/").concat(S,")"):void 0}),Object(v.jsx)(A,{value:L,pomodoroType:b,stopTimer:i,startTimer:s,theme:I[b]})]})})})),F=a(95),B=a.n(F),G=a(91),J=a(192),H=a(92),K=a.n(H),V=a(93),q=a.n(V),Q=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.startTimer,n=t.stopTimer,r=t.rowData,i=t.deletePomodoro,c=t.markAsComplete,s=e.node.data,d=s.timerStarted,l=s.id,u=s.timeLeft,f=s.completed,j=function(){return!!r&&!!(r.filter((function(e){return e.timerStarted&&e.id!==l})).length>0)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(J.a,{sx:{color:"white"},size:"small",onClick:function(){d?n({id:l,timeLeft:u}):a({id:l})},disabled:!!f||j(),children:d?Object(v.jsx)(P.a,{fontSize:"large"}):Object(v.jsx)(R.a,{fontSize:"large"})}),Object(v.jsx)(J.a,{sx:{color:"white"},disabled:!!f||j(),onClick:function(){if(d)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);c({id:l})},size:"small",children:Object(v.jsx)(K.a,{fontSize:"large"})}),Object(v.jsx)(J.a,{sx:{color:"white"},disabled:j(),size:"small",onClick:function(){if(d)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);i({id:l})},children:Object(v.jsx)(q.a,{fontSize:"large"})})]})})),U=a(193),X=a(194),Y=a(195);function Z(e){return Object(v.jsxs)(U.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(v.jsx)(X.a,Object(p.a)({variant:"determinate"},e)),Object(v.jsx)(U.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(Y.a,{variant:"caption",component:"div",color:"white",children:"".concat(Math.round(e.value),"%")})})]})}var $=Object(o.memo)((function(e){var t=e.timeLeft;Math.floor((1500-t)/1500*100);return Object(v.jsx)(Z,{sx:{color:"white"},value:100})})),ee=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.stopTimer,n=t.persistSeconds,r=t.markAsComplete,i=e.node.data,s=i.id,d=i.timerStarted,l=i.timeLeft,u=i.completed,f=Object(o.useState)(l),j=Object(c.a)(f,2),m=j[0],b=j[1];Object(o.useEffect)((function(){!d&&m&&m<l&&n({id:s,timeLeft:m})}),[d,n,s]),Object(o.useEffect)((function(){var e;return 0!==m||u?d&&m>0&&(e=setInterval((function(){b((function(e){return e-1}))}),1e3)):(a({id:s}),r({id:s})),function(){e&&clearInterval(e)}}),[m,d,s,a,r,u]);var O=E(m);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{fontSize:"25px",fontWeight:"bold"},children:O}),Object(v.jsx)($,{timeLeft:m})]})})),te=a(94),ae=a.n(te),oe=a(182),ne=a(186),re=Object(o.memo)((function(e){var t=Object(o.useContext)(g).addTask,a=Object(o.useState)(1),n=Object(c.a)(a,2),r=n[0],i=n[1],s=Object(o.useState)(""),d=Object(c.a)(s,2),l=d[0],u=d[1],f=Object(o.useState)(!1),j=Object(c.a)(f,2),m=j[0],b=j[1];return Object(v.jsx)("div",{style:{display:"flex",height:"100%",justifyContent:"center"},children:Object(v.jsx)("div",{style:{height:"100%",backgroundColor:"#ffffff1a",display:"flex",alignItems:"center"},children:Object(v.jsxs)(U.a,{component:"form",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%","& .MuiTextField-root":{mx:3},"& .MuiButton-root":{mx:3}},children:[Object(v.jsx)(oe.a,{id:"outlined-basic",required:!0,label:"I'm working on...",size:"small",variant:"outlined",value:l,error:m,onChange:function(e){return u(e.target.value)}}),Object(v.jsxs)(oe.a,{select:!0,label:"Est. Pomodoros",type:"number",sx:{minWidth:125},value:r,onChange:function(e){return i(e.target.value)},size:"small",variant:"outlined",children:[Object(v.jsx)(ne.a,{value:1,children:"One"}),Object(v.jsx)(ne.a,{value:2,children:"Two"}),Object(v.jsx)(ne.a,{value:3,children:"Three"}),Object(v.jsx)(ne.a,{value:4,children:"Four"})]}),Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",startIcon:Object(v.jsx)(ae.a,{}),onClick:function(e){if(l.length<1)b(!0);else{for(var a=0;a<r;a++)t({task:l,taskNo:a+1,taskCount:r});b(!1)}},children:"Add Task"})]})})})}));a(138),a(139);var ie=function(e){var t=e.themes,a=Object(o.useContext)(g).rowData,n=function(e){var t=e.value,a=e.data;return t&&a.timeLeft?I(t):t},r=Object(o.useMemo)((function(){return{timeColumn:{cellStyle:{justifyContent:"center"}},grayColumn:{cellStyle:{backgroundColor:"#ffffff1a",display:"flex",alignItems:"center",justifyContent:"space-around"}},textColumn:{cellStyle:{fontWeight:"bold",fontSize:"20px",display:"flex",alignItems:"center"}}}}),[]),i=[{field:"action",maxWidth:200,type:"grayColumn",cellRendererSelector:function(e){return e.data.task?{component:Q}:void 0},pinned:"left"},{field:"task",minWidth:1e3,type:"textColumn",valueFormatter:function(e){var t=e.data,a=e.value;return t.taskNo?"".concat(a," (").concat(t.taskNo,"/").concat(t.taskCount,")"):a}},{headerName:"Progress",field:"timer",type:"grayColumn",minWidth:200,valueGetter:function(e){return e.data.timeLeft},sort:"asc",cellRendererSelector:function(e){return e.data.task?{component:ee,params:{}}:void 0}},{headerName:"Start Time",field:"start_time",type:["timeColumn","textColumn"],valueGetter:function(e){if(e.data.timerStarted)return new Date},valueFormatter:n},{headerName:"End Time",field:"end_time",type:["timeColumn","textColumn"],valueGetter:function(e){var t=e.getValue("start_time");if(t){var a=t,o=new Date(a);return o.setMinutes(a.getMinutes()+Math.round(e.data.timeLeft/60)),o}},valueFormatter:n}],c=Object(o.useMemo)((function(){return{flex:1,suppressMovable:!0,minWidth:100}}),[]),s=Object(o.useCallback)((function(e){var a=e.data.completed;if(!e.node.isRowPinned()){if(a){var o=t.completed;return{backgroundColor:o.background,color:o.foreground}}var n=t.pomodoro;return{backgroundColor:n.background,color:n.foreground}}}),[t]),d=Object(o.useCallback)((function(e){for(var t=0,a=0;a<e.length;a++){e[a].data.completed&&(e.splice(t,0,e.splice(a,1)[0]),t++)}}),[]);return Object(v.jsx)("div",{style:{height:"50%",width:"100%"},children:Object(v.jsx)("div",{className:"ag-theme-alpine",style:{height:"100%",width:"100%"},children:Object(v.jsx)(G.AgGridReact,{ref:e.gridRef,rowData:a,columnTypes:r,columnDefs:i,defaultColDef:c,immutableData:!0,fullWidthCellRenderer:re,isFullWidthCell:function(e){return"bottom"===e.rowPinned},getRowStyle:s,animateRows:!0,overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please stop the timer before clicking an action.</span>',postSort:d,getRowNodeId:function(e){return e.id},getRowHeight:function(e){return"bottom"===e.node.rowPinned?82:60},pinnedBottomRowData:[{}]})})})},ce=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.rowData,n=t.activeTaskId,r=Object(o.useRef)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ie,{gridRef:r,themes:e.themes}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",sx:{mt:3},startIcon:Object(v.jsx)(B.a,{}),onClick:function(){if(n){var e=a.filter((function(e){return e.id===n}));if(e.length>0&&e[0].timerStarted)return r.current.api.showLoadingOverlay(),void setTimeout((function(){r.current.api.hideOverlay()}),3e3)}localStorage.setItem("gridState",JSON.stringify({rowData:a,activeTaskId:n}))},children:"Save to Local Storage"})})]})})),se=function(){var e=Object(o.useMemo)((function(){return{pomodoro:{foreground:"#ffffff",background:"#d95550"},short_break:{foreground:"#ffffff",background:"#1565c0"},long_break:{foreground:"#ffffff",background:"#ab47bc"},completed:{foreground:"#ffffff",background:"#4caf50"}}}),[]);return Object(v.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(v.jsxs)(y,{children:[Object(v.jsx)(W,{themes:e}),Object(v.jsx)(ce,{themes:e})]})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,196)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),o(e),n(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(se,{})}),document.getElementById("root")),de()},78:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.ae09ac6d.chunk.js.map