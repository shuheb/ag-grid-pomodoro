(this["webpackJsonpag-grid-pomodoro"]=this["webpackJsonpag-grid-pomodoro"]||[]).push([[0],{110:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(26),i=a.n(r),c=(a(110),a(78),a(14)),s=a(12),d="START_TIMER",l="STOP_TIMER",u="ADD_TASK",f="PERSIST_SECONDS",j="RESET_ACTIVE_TASK",m="MARK_AS_COMPLETE",b="DELETE_POMODORO",O=a(185),p=a(16),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(c.a)(Object(c.a)({},e),{},{activeTaskId:t.payload.id,rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{timerStarted:!0})}))});case l:return Object(c.a)(Object(c.a)({},e),{},{rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{timerStarted:!1})}))});case u:return Object(c.a)(Object(c.a)({},e),{},{rowData:[].concat(Object(p.a)(e.rowData),[{id:t.payload.id,task:t.payload.task,taskNo:t.payload.taskNo,taskCount:t.payload.taskCount,timerStarted:!1,completed:!1,timeLeft:1500}])});case b:return Object(c.a)(Object(c.a)({},e),{},{activeTaskId:-1,rowData:e.rowData.filter((function(e){return e.id!==t.payload.id}))});case m:return Object(c.a)(Object(c.a)({},e),{},{rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{completed:!0,timeLeft:0})}))});case f:return Object(c.a)(Object(c.a)({},e),{},{rowData:e.rowData.map((function(e){return e.id!==t.payload.id?e:Object(c.a)(Object(c.a)({},e),{},{timeLeft:t.payload.timeLeft})}))});case j:return Object(c.a)(Object(c.a)({},e),{},{activeTaskId:-1});default:return e}},v=a(1),g=Object(o.createContext)(),x={rowData:[],activeTaskId:-1},k=function(e){var t=JSON.parse(localStorage.getItem("gridState"));return t||e},y=function(e){var t=e.children,a=Object(o.useReducer)(h,x,k),n=Object(s.a)(a,2),r=n[0],i=n[1],c={rowData:r.rowData,activeTaskId:r.activeTaskId,startTimer:Object(o.useCallback)((function(e){var t=e.id;i({type:d,payload:{id:t}})}),[i]),stopTimer:Object(o.useCallback)((function(e){var t=e.id;i({type:l,payload:{id:t}})}),[i]),addTask:Object(o.useCallback)((function(e){var t=e.task,a=e.taskNo,o=e.taskCount;i({type:u,payload:{id:Object(O.a)(),task:t,taskNo:a,taskCount:o}})}),[i]),persistSeconds:Object(o.useCallback)((function(e){var t=e.id,a=e.timeLeft;i({type:f,payload:{id:t,timeLeft:a}})}),[i]),markAsComplete:Object(o.useCallback)((function(e){var t=e.id;i({type:m,payload:{id:t}})}),[i]),deletePomodoro:Object(o.useCallback)((function(e){var t=e.id;i({type:b,payload:{id:t}})}),[i]),resetActiveTask:Object(o.useCallback)((function(){i({type:j})}),[i])};return Object(v.jsx)(g.Provider,{value:c,children:t})},S=a(188),T=a(190),C=a(184),w=Object(o.memo)((function(e){var t=e.timerStarted,a=e.pomodoroType,n=e.setPomodoroType,r=Object(o.useState)(!1),i=Object(s.a)(r,2),c=i[0],d=i[1];return Object(v.jsxs)("div",{style:{paddingBottom:15},children:[Object(v.jsxs)(S.a,{sx:{"& .MuiToggleButton-root":{color:"white !important"}},value:a,exclusive:!0,onChange:function(e,a){if(a)return t?(d(!0),void setTimeout((function(){d(!1)}),3e3)):void n(a)},children:[Object(v.jsx)(T.a,{value:"pomodoro",children:"Pomodoro"}),Object(v.jsx)(T.a,{value:"short_break",children:"Short Break"}),Object(v.jsx)(T.a,{value:"long_break",children:"Long Break"})]}),c&&Object(v.jsx)("div",{style:{paddingTop:15},children:Object(v.jsx)(C.a,{severity:"warning",children:"Please stop the timer before clicking an action."})})]})})),L=Object(o.memo)((function(e){var t=e.pomodoroType,a=e.theme,o=e.task,n="pomodoro"===t,r=n?"\ud83d\udccc":"\ud83d\udd7a";return Object(v.jsxs)("div",{className:"task-container",children:[Object(v.jsx)("span",{style:{fontSize:30,paddingRight:"5px"},children:r}),Object(v.jsx)("span",{style:{color:a.background,fontWeight:"bold",fontSize:24},children:n?Object(v.jsxs)(v.Fragment,{children:[o?"Working on":"Time to focus!",o&&Object(v.jsx)("div",{style:{fontWeight:"normal",fontSize:20},children:o})]}):"Time for a break!"})]})}));function D(e){var t=[e.getHours(),I(e.getMinutes(),2)].join(":");return t+=e.getHours()>=12?"pm":"am"}function I(e,t){return e.toString().padStart(t,"0")}function E(e){var t=I(e%60,2);return[I(Math.floor(e/60),2),t].join(":")}var M=function(e,t){var a=Object(o.useState)(t),n=Object(s.a)(a,2),r=n[0],i=n[1];return Object(o.useEffect)((function(){var t;return e&&(t=setInterval((function(){i((function(e){return e-1}))}),1e3)),function(){t&&clearInterval(t)}}),[e]),[r,i]},R=a(189),_=a(56),z=a.n(_),P=a(55),N=a.n(P),A=Object(o.memo)((function(e){var t=e.pomodoroType,a=e.buttonColor,o=e.timerStarted,n=e.setTimerStarted,r=e.stopTimer,i=e.startTimer,c=e.id,s=e.timeLeft,d=new Date,l="pomodoro"===t?s||1500:"short_break"===t?300:900;d.setMinutes(d.getMinutes()+Math.round(l/60));var u=D(d);return Object(v.jsxs)("div",{style:{display:"flex",paddingLeft:"15px"},children:[Object(v.jsx)(R.a,{disableElevation:!0,sx:{backgroundColor:"white",color:a,fontWeight:"bold","&:hover":{backgroundColor:"#00000014",color:"white"}},onClick:function(){c&&(o?r({id:c}):i({id:c})),n(!o)},startIcon:o?Object(v.jsx)(N.a,{fontSize:"medium"}):Object(v.jsx)(z.a,{fontSize:"medium"}),variant:"contained",children:o?"STOP":"START"}),Object(v.jsx)("div",{style:{marginLeft:"auto"},children:Object(v.jsxs)("span",{style:{color:"white",fontSize:20},children:["end time",Object(v.jsx)("span",{style:{fontWeight:"bold",fontSize:30},children:" "+u})]})})]})})),W=Object(o.memo)((function(e){var t=e.pomodoroType,a=e.stopTimer,n=e.startTimer,r=e.theme,i=e.value,c=i.timeLeft,d=i.id,l=i.timerStarted,u=Object(o.useState)(l),f=Object(s.a)(u,2),j=f[0],m=f[1],b=M(j,c),O=Object(s.a)(b,2),p=O[0],h=O[1];Object(o.useEffect)((function(){m(l)}),[l]),Object(o.useEffect)((function(){h((function(e){return c}))}),[c,h]),Object(o.useEffect)((function(){0===p&&m(!1)}),[p]);var g=E(p);return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:90,padding:"30px 0px"},children:g}),Object(v.jsx)(A,{buttonColor:r.background,timerStarted:j,setTimerStarted:function(e){return m(e)},stopTimer:a,id:d,timeLeft:c,startTimer:n,pomodoroType:t})]})})),F={id:-1,timeLeft:1400,timerStarted:!1},B=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.activeTaskId,n=t.rowData,r=t.resetActiveTask,i=t.stopTimer,d=t.startTimer,l=Object(o.useState)(F),u=Object(s.a)(l,2),f=u[0],j=u[1],m=Object(o.useState)("pomodoro"),b=Object(s.a)(m,2),O=b[0],p=b[1],h=f.timeLeft,x=f.id,k=f.task,y=f.taskNo,S=f.taskCount,T=f.timerStarted,C=f.completed,D=e.themes;Object(o.useEffect)((function(){-1!==a&&j(n.filter((function(e){return e.id===a}))[0])}),[a,n]),Object(o.useEffect)((function(){C&&p("short_break")}),[C]),Object(o.useEffect)((function(){!x||-1===x||"long_break"!==O&&"short_break"!==O||(r(),j(F))}),[O,x,r]),Object(o.useEffect)((function(){-1===x&&("pomodoro"===O?j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:1500})})):"short_break"===O?j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:300})})):"long_break"===O&&j((function(e){return Object(c.a)(Object(c.a)({},e),{},{timeLeft:900})})))}),[O,x]),Object(o.useEffect)((function(){-1!==a&&p("pomodoro")}),[a]);var I={timeLeft:h,id:x,timerStarted:T};return Object(v.jsx)("div",{className:"main-task-background",style:{backgroundColor:D[O].background},children:Object(v.jsxs)("div",{className:"main-task-container",children:[Object(v.jsx)(w,{timerStarted:T,pomodoroType:O,setPomodoroType:function(e){return p(e)}}),Object(v.jsx)(L,{pomodoroType:O,id:x,theme:D[O],task:k?"".concat(k," (").concat(y,"/").concat(S,")"):void 0}),Object(v.jsx)(W,{value:I,pomodoroType:O,stopTimer:i,startTimer:d,theme:D[O]})]})})})),G=a(95),J=a.n(G),H=a(91),K=a(192),V=a(92),q=a.n(V),Q=a(93),U=a.n(Q),X=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.startTimer,n=t.stopTimer,r=t.rowData,i=t.deletePomodoro,c=t.markAsComplete,s=e.node.data,d=s.timerStarted,l=s.id,u=s.timeLeft,f=s.completed,j=function(){return!!r&&!!(r.filter((function(e){return e.timerStarted&&e.id!==l})).length>0)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K.a,{sx:{color:"white"},size:"small",onClick:function(){d?n({id:l,timeLeft:u}):a({id:l})},disabled:!!f||j(),children:d?Object(v.jsx)(N.a,{fontSize:"large"}):Object(v.jsx)(z.a,{fontSize:"large"})}),Object(v.jsx)(K.a,{sx:{color:"white"},disabled:!!f||j(),onClick:function(){if(d)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);c({id:l})},size:"small",children:Object(v.jsx)(q.a,{fontSize:"large"})}),Object(v.jsx)(K.a,{sx:{color:"white"},disabled:j(),size:"small",onClick:function(){if(d)return e.api.showLoadingOverlay(),void setTimeout((function(){e.api.hideOverlay()}),3e3);i({id:l})},children:Object(v.jsx)(U.a,{fontSize:"large"})})]})})),Y=a(193),Z=a(194),$=a(195),ee=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.stopTimer,n=t.persistSeconds,r=t.markAsComplete,i=e.node.data,c=i.id,d=i.timerStarted,l=i.timeLeft,u=M(d,l),f=Object(s.a)(u,1)[0];Object(o.useEffect)((function(){d||n({id:c,timeLeft:f})}),[d,n,f,c]),Object(o.useEffect)((function(){0===f&&(a({id:c}),r({id:c}))}),[f,a,r,c]);var j=E(f);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{fontSize:"25px",fontWeight:"bold"},children:j}),Object(v.jsx)(ae,{timeLeft:f})]})}));function te(e){return Object(v.jsxs)(Y.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(v.jsx)(Z.a,Object(c.a)({variant:"determinate"},e)),Object(v.jsx)(Y.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)($.a,{variant:"caption",component:"div",color:"white",children:"".concat(Math.round(e.value),"%")})})]})}var ae=Object(o.memo)((function(e){var t=e.timeLeft,a=Math.floor((1500-t)/1500*100);return Object(v.jsx)(te,{sx:{color:"white"},value:a})})),oe=ee,ne=a(94),re=a.n(ne),ie=a(182),ce=a(186),se=Object(o.memo)((function(e){var t=Object(o.useContext)(g).addTask,a=Object(o.useState)(1),n=Object(s.a)(a,2),r=n[0],i=n[1],c=Object(o.useState)(""),d=Object(s.a)(c,2),l=d[0],u=d[1],f=Object(o.useState)(!1),j=Object(s.a)(f,2),m=j[0],b=j[1];return Object(v.jsx)("div",{style:{display:"flex",height:"100%",justifyContent:"center"},children:Object(v.jsx)("div",{style:{height:"100%",backgroundColor:"#ffffff1a",display:"flex",alignItems:"center"},children:Object(v.jsxs)(Y.a,{component:"form",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%","& .MuiTextField-root":{mx:3},"& .MuiButton-root":{mx:3}},children:[Object(v.jsx)(ie.a,{id:"outlined-basic",required:!0,label:"I'm working on...",size:"small",variant:"outlined",value:l,error:m,onChange:function(e){return u(e.target.value)}}),Object(v.jsxs)(ie.a,{select:!0,label:"Est. Pomodoros",type:"number",sx:{minWidth:125},value:r,onChange:function(e){return i(e.target.value)},size:"small",variant:"outlined",children:[Object(v.jsx)(ce.a,{value:1,children:"One"}),Object(v.jsx)(ce.a,{value:2,children:"Two"}),Object(v.jsx)(ce.a,{value:3,children:"Three"}),Object(v.jsx)(ce.a,{value:4,children:"Four"})]}),Object(v.jsx)(R.a,{variant:"contained",size:"large",color:"primary",startIcon:Object(v.jsx)(re.a,{}),onClick:function(e){if(l.length<1)b(!0);else{for(var a=0;a<r;a++)t({task:l,taskNo:a+1,taskCount:r});b(!1)}},children:"Add Task"})]})})})}));a(138),a(139);var de=function(e){var t=e.themes,a=Object(o.useContext)(g).rowData,n=function(e){var t=e.value,a=e.data;return t&&a.timeLeft?D(t):t},r=Object(o.useMemo)((function(){return{timeColumn:{cellStyle:{justifyContent:"center"}},grayColumn:{cellStyle:{backgroundColor:"#ffffff1a",display:"flex",alignItems:"center",justifyContent:"space-around"}},textColumn:{cellStyle:{fontWeight:"bold",fontSize:"20px",display:"flex",alignItems:"center"}}}}),[]),i=[{field:"action",maxWidth:200,type:"grayColumn",cellRendererSelector:function(e){return e.data.task?{component:X}:void 0},pinned:"left"},{field:"task",minWidth:1e3,type:"textColumn",valueFormatter:function(e){var t=e.data,a=e.value;return t.taskNo?"".concat(a," (").concat(t.taskNo,"/").concat(t.taskCount,")"):a}},{headerName:"Progress",field:"timer",type:"grayColumn",minWidth:200,valueGetter:function(e){return e.data.timeLeft},sort:"asc",cellRendererSelector:function(e){return e.data.task?{component:oe,params:{}}:void 0}},{headerName:"Start Time",field:"start_time",type:["timeColumn","textColumn"],valueGetter:function(e){if(e.data.timerStarted)return new Date},valueFormatter:n},{headerName:"End Time",field:"end_time",type:["timeColumn","textColumn"],valueGetter:function(e){var t=e.getValue("start_time");if(t){var a=t,o=new Date(a);return o.setMinutes(a.getMinutes()+Math.round(e.data.timeLeft/60)),o}},valueFormatter:n}],c=Object(o.useMemo)((function(){return{flex:1,suppressMovable:!0,minWidth:100}}),[]),s=Object(o.useCallback)((function(e){var a=e.data.completed;if(!e.node.isRowPinned()){if(a){var o=t.completed;return{backgroundColor:o.background,color:o.foreground}}var n=t.pomodoro;return{backgroundColor:n.background,color:n.foreground}}}),[t]),d=Object(o.useCallback)((function(e){for(var t=0,a=0;a<e.length;a++){e[a].data.completed&&(e.splice(t,0,e.splice(a,1)[0]),t++)}}),[]);return Object(v.jsx)("div",{style:{height:"50%",width:"100%"},children:Object(v.jsx)("div",{className:"ag-theme-alpine",style:{height:"100%",width:"100%"},children:Object(v.jsx)(H.AgGridReact,{ref:e.gridRef,rowData:a,columnTypes:r,columnDefs:i,defaultColDef:c,immutableData:!0,fullWidthCellRenderer:se,isFullWidthCell:function(e){return"bottom"===e.rowPinned},getRowStyle:s,animateRows:!0,overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please stop the timer before clicking an action.</span>',postSort:d,getRowNodeId:function(e){return e.id},getRowHeight:function(e){return"bottom"===e.node.rowPinned?82:60},pinnedBottomRowData:[{}]})})})},le=Object(o.memo)((function(e){var t=Object(o.useContext)(g),a=t.rowData,n=t.activeTaskId,r=Object(o.useRef)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(de,{gridRef:r,themes:e.themes}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(v.jsx)(R.a,{variant:"contained",size:"large",color:"primary",sx:{mt:3},startIcon:Object(v.jsx)(J.a,{}),onClick:function(){if(n){var e=a.filter((function(e){return e.id===n}));if(e.length>0&&e[0].timerStarted)return r.current.api.showLoadingOverlay(),void setTimeout((function(){r.current.api.hideOverlay()}),3e3)}localStorage.setItem("gridState",JSON.stringify({rowData:a,activeTaskId:n}))},children:"Save to Local Storage"})})]})})),ue=function(){var e=Object(o.useMemo)((function(){return{pomodoro:{foreground:"#ffffff",background:"#d95550"},short_break:{foreground:"#ffffff",background:"#1565c0"},long_break:{foreground:"#ffffff",background:"#ab47bc"},completed:{foreground:"#ffffff",background:"#4caf50"}}}),[]);return Object(v.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(v.jsxs)(y,{children:[Object(v.jsx)(B,{themes:e}),Object(v.jsx)(le,{themes:e})]})})},fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,196)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),o(e),n(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(ue,{})}),document.getElementById("root")),fe()},78:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.e1ab1470.chunk.js.map